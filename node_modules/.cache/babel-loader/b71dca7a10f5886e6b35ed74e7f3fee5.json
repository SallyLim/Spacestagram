{"ast":null,"code":"import _slicedToArray from\"/Users/sallylim/Desktop/Projects/spacestagram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./heart.css';import heart from\"./img/favorite_border.svg\";import filledHeart from\"./img/heart.svg\";import useLocalStorage from'./useLocalStorage';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Heart(_ref){var photo=_ref.photo;var _useLocalStorage=useLocalStorage(photo.url),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),liked=_useLocalStorage2[0],setLiked=_useLocalStorage2[1];return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){var _JSON$parse;setLiked(!liked);var likedArray=(_JSON$parse=JSON.parse(localStorage.getItem('heart')))!==null&&_JSON$parse!==void 0?_JSON$parse:[];if(likedArray.find(function(item){return item.url===photo.url;})===undefined){likedArray.push(photo);}else{var index=likedArray.findIndex(function(item){return item.url===photo.url;});likedArray.splice(index,1);}localStorage.setItem('heart',JSON.stringify(likedArray));},children:/*#__PURE__*/_jsx(\"img\",{className:\"heart_icon\",src:liked?filledHeart:heart,alt:\"icon\"})});}","map":{"version":3,"sources":["/Users/sallylim/Desktop/Projects/spacestagram/src/component/heart.js"],"names":["useLocalStorage","Heart","photo","url","liked","setLiked","likedArray","JSON","parse","localStorage","getItem","find","item","undefined","push","index","findIndex","splice","setItem","stringify","filledHeart","heart"],"mappings":"oKAAA,MAAO,aAAP,C,sFAGA,MAAOA,CAAAA,eAAP,KAA4B,mBAA5B,C,2CAGA,cAAe,SAASC,CAAAA,KAAT,MAAwB,IAARC,CAAAA,KAAQ,MAARA,KAAQ,CACnC,qBAA0BF,eAAe,CAACE,KAAK,CAACC,GAAP,CAAzC,sDAAOC,KAAP,sBAAcC,QAAd,sBAGA,mBACI,YAAK,OAAO,CAAE,kBAAO,iBACjBA,QAAQ,CAAC,CAACD,KAAF,CAAR,CACA,GAAIE,CAAAA,UAAU,cAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAH,2CAAgD,EAA9D,CACA,GAAIJ,UAAU,CAACK,IAAX,CAAgB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACT,GAAL,GAAWD,KAAK,CAACC,GAArB,EAApB,IAAkDU,SAAtD,CAAiE,CAC7DP,UAAU,CAACQ,IAAX,CAAgBZ,KAAhB,EACH,CAFD,IAEO,CACH,GAAIa,CAAAA,KAAK,CAAGT,UAAU,CAACU,SAAX,CAAqB,SAAAJ,IAAI,QAAIA,CAAAA,IAAI,CAACT,GAAL,GAAWD,KAAK,CAACC,GAArB,EAAzB,CAAZ,CACAG,UAAU,CAACW,MAAX,CAAkBF,KAAlB,CAAyB,CAAzB,EACH,CACDN,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BX,IAAI,CAACY,SAAL,CAAeb,UAAf,CAA9B,EACH,CAVD,uBAWI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEF,KAAK,CAAGgB,WAAH,CAAiBC,KAAvD,CAA8D,GAAG,CAAC,MAAlE,EAXJ,EADJ,CAeH","sourcesContent":["import './heart.css';\nimport heart from './img/favorite_border.svg';\nimport filledHeart from './img/heart.svg';\nimport useLocalStorage from './useLocalStorage';\n\n\nexport default function Heart({photo}) {\n    const [liked, setLiked] = useLocalStorage(photo.url)\n    \n\n    return (\n        <div onClick={() =>  {\n            setLiked(!liked)\n            let likedArray = JSON.parse(localStorage.getItem('heart')) ?? []\n            if (likedArray.find(item => item.url===photo.url) === undefined) {\n                likedArray.push(photo)\n            } else {\n                let index = likedArray.findIndex(item => item.url===photo.url)\n                likedArray.splice(index, 1)\n            }\n            localStorage.setItem('heart', JSON.stringify(likedArray))\n        }}>\n            <img className=\"heart_icon\" src={liked ? filledHeart : heart} alt=\"icon\" />\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}